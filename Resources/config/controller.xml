<?xml version="1.0" encoding="UTF-8" ?>

<container xmlns="http://www.symfony-project.org/schema/dic/services"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.symfony-project.org/schema/dic/services http://www.symfony-project.org/schema/dic/services/services-1.0.xsd">

    <parameters>
        <parameter key="job.controller.class">Application\Jobeet2Bundle\Controller\JobController</parameter>
        <parameter key="category.controller.class">Application\Jobeet2Bundle\Controller\CategoryController</parameter>
        <parameter key="job.repository.class">Doctrine\ORM\EntityRepository</parameter>
        <parameter key="category.repository.class">Doctrine\ORM\EntityRepository</parameter>             
    </parameters>

     <services>
        <service id="job.controller" class="%job.controller.class%" scope="request">
            <argument type="service" id="request" />
            <argument type="service" id="jobeet2.job.repository" />
            <argument type="service" id="router" />
            <argument type="service" id="templating" />
            <call method="setContainer">
                <argument type="service" id="service_container" />
            </call>
                         
        </service>
        
        <service id="category.controller" class="%category.controller.class%" scope="request">
            <argument type="service" id="request" />
            <argument type="service" id="jobeet2.category.repository" />
            <argument type="service" id="router" />
            <argument type="service" id="templating" />
            <call method="setContainer">
                <argument type="service" id="service_container" />
            </call>            
        </service>
        
        
        <service id="jobeet2.job.repository"
            public="false"
            class="%job.repository.class%"  
            factory-service="doctrine.orm.entity_manager"         
            factory-method="getRepository">             
                <argument>Jobeet2Bundle:Job</argument>           
        </service>
        
        <service id="jobeet2.category.repository"
            public="false"
            class="%category.repository.class%"  
            factory-service="doctrine.orm.jobeet2_entity_manager"         
            factory-method="getRepository">             
                <argument>Jobeet2Bundle:Category</argument>           
        </service>                  

    </services>

</container>